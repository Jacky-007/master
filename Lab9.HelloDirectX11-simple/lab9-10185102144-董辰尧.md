# 华东师范大学计算机科学与技术实验报告

| 实验课程：计算机图形学 | 年级：18级        | 实验成绩：            |
| ---------------------- | ----------------- | --------------------- |
| 实验名称：三维渲染     | 姓名：董辰尧      | 实验日期：2021/4/21   |
| 实验编号：09           | 学号：10185102144 | 实验时间：13:00~14:40 |
| 指导教师：李洋、王长波 | 组号：            |                       |

## 一、实验目的

利用D3D API实现基本3D流水线。

## 二、实验环境

计算机图形学

## 三、实验内容

1. 读懂代码
2. 增加旋转功能

## 四、实验过程与分析

* 读懂代码：本次实验介绍了D3D流水线的最基本的框架。首先介绍可编程管线。顾名思义，就是说管线中的某些环节是可以被控制的。人们可以通过对GPU中的着色器进行编程的方式，来控制、管理加速卡的渲染效果。着色器分为 顶点着色器和像素着色器。 顶点着色器是在进行坐标变换和光照计算时工作，像素着色器是在光栅化环节工作。人们对着色器进行自定义编程时，这个流水线就叫做 可编程管线。同时，D3D还提供默认的着色器程序，当游戏或应用程序完全使用默认着色器程序时，这个流水线就叫做固定管线。

* 增加旋转功能：

  * 在实验中我先是发现了修改

  ```c++
    float3 modelRotation = {0.0f, 0.0f, 0.0f};
  ```
  
  ​		中的数字可以让图像的初始位置旋转，但是不可以一直旋转。
  
  * 后面我找到了一行关键代码
  
  ```c++
  constants->Transform = rotateX * rotateY * rotateZ * scale * translate;
  ```
  
  ​       发现一行是计算转移矩阵的，于是我知道了可以通过每个while循环内改变旋转矩阵的值来对图像进行旋  转。主要代码如下：
  
  ```c++
  modelRotation.x += 0.001;
  modelRotation.y += 0.001;
  modelRotation.z += 0.01;
  constants->Transform = rotateX * rotateY * rotateZ * scale * translate;
  ```

## 五、实验过程总结

* 结果截图：

  ![img](file:///C:\Users\summer\Documents\Tencent Files\1205910142\Image\C2C\01Z~]7SICVVW9@@EY4THVCG.png)

  ![image-20210427194117957](C:\Users\summer\AppData\Roaming\Typora\typora-user-images\image-20210427194117957.png)

* 总结：虽然是D3D最简单的框架，但是由于是第一次接触，理解起来还是需要一定的时间。今天在运行初始程序的时候遇到了困难，我像往常一样把头文件等等拖进去的时候发现不能直接运行。后面使用了Cmake才可以。最后完成代码后有一种恍然大悟的感觉。

